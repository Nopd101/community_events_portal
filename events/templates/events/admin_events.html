{% extends "events/dashboard_base.html" %}

{% block sidebar %}
  <h6 class="text-uppercase text-white-50 mb-3">Admin</h6>
  <ul class="nav flex-column gap-2">
    <li class="nav-item">
      <a class="nav-link text-white p-0" href="{% url 'events:admin_dashboard' %}">
        Dashboard
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link text-white p-0" href="{% url 'events:admin_review' %}">
        Review submissions
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link text-white p-0" href="{% url 'events:admin_feedback_overview' %}">
        All events
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link text-white p-0" href="{% url 'events:admin_user_management' %}">
        User management
      </a>
    </li>
  </ul>
{% endblock %}

{% block main_content %}
  <h5 class="mb-3">Pending Event Submissions</h5>

  {% if submissions %}
    <div class="list-group">
      {% for e in submissions %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ e.title }}</strong>
            <div class="small text-muted">
              By {{ e.organizer.get_full_name|default:e.organizer.username }} â€¢ {{ e.date|date:"M d, Y" }}
            </div>
          </div>
          <div class="d-flex gap-2">
            <form method="post" action="{% url 'events:admin_approve' e.pk %}">
              {% csrf_token %}
              <button class="btn btn-sm btn-success">Approve</button>
            </form>
            <form method="post" action="{% url 'events:admin_decline' e.pk %}">
              {% csrf_token %}
              <button class="btn btn-sm btn-danger">Decline</button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">No pending submissions.</div>
  {% endif %}
{% endblock %}

{% extends "events/dashboard_base.html" %}

{% block sidebar %}
  <h6 class="text-uppercase mb-3 dashboard-sidebar-title text-dark">Organizer</h6>
  <ul class="nav flex-column gap-2 dashboard-sidebar-nav">
    <li class="nav-item">
      <a class="nav-link sidebar-pill-link {% if request.resolver_match.url_name == 'organizer_dashboard' %}active{% endif %}" href="{% url 'events:organizer_dashboard' %}">
        Dashboard
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link sidebar-pill-link {% if request.resolver_match.url_name == 'organizer_events' %}active{% endif %}" href="{% url 'events:organizer_events' %}">
        My events
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link sidebar-pill-link {% if request.resolver_match.url_name == 'event_create' %}active{% endif %}" href="{% url 'events:event_create' %}">
        Create event
      </a>
    </li>
    <li class="nav-item mt-3">
      <span class="nav-link text-dark p-0 ">Profile</span>
    </li>
    <li class="nav-item">
      <a class="nav-link sidebar-pill-link {% if request.resolver_match.url_name == 'organizer_profile' %}active{% endif %}" href="{% url 'events:organizer_profile' %}">
        Edit profile
      </a>
    </li>
  </ul>
{% endblock %}

{% block main_content %}
  <div class="dashboard-banner mb-4">
    <h5 class="fw-bold fs-3 text-white mb-1">Edit Profile</h5>
    <p class="text-white-50 small mb-0">
      Update your organizer information and preferences.
    </p>
  </div>

  <div class="card panel-card p-4 mb-4">
    {% if form.non_field_errors %}
      <div class="alert alert-danger">
        {% for err in form.non_field_errors %}{{ err }}<br>{% endfor %}
      </div>
    {% endif %}

    <form method="post" novalidate>
      {% csrf_token %}

      <div class="row g-3">
        {% for field in form %}
          <div class="col-md-6">
            <label class="form-label" for="{{ field.id_for_label }}">
              {{ field.label }}
            </label>
            {{ field }}

            {% if field.errors %}
              <div class="text-danger small mt-1">
                {% for err in field.errors %}{{ err }}<br>{% endfor %}
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>

      <div class="mt-4">
        <button type="submit" class="btn btn-primary bg-grad">
          Save changes
        </button>
        <a href="{% url 'events:organizer_dashboard' %}" class="btn btn-outline-secondary ms-2">
          Cancel
        </a>
      </div>
    </form>
  </div>
{% endblock %}
